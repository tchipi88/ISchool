<form      ng-submit="save()"  novalidate="true"
           name="form"   method="POST"    id="form"    class="form-validation"  >

    <div class="modal-header">
        <button type="button" class="btn btn-link pull-right"  ng-click="closemodal()" >
            <i class="fa fa-remove"></i>  
        </button>
        <h3 class="modal-title"> {{categorie}}</h3>
        <small class="text-muted"  translate="form.legend">Fields marked with * are required</small>
    </div>
    <div class="modal-body" >
<!--        <div class="row">
            <pre> {{formmodel}}</pre>
        </div>-->
        <fieldset >
            <tabset justified="true"  type="pills" vertical="false" ng-if="formmodel.tabset.length > 1">
                <tab    ng-repeat="tab in formmodel.tabset" active="$first">
                    <tab-heading  >{{tab.nom}}</tab-heading>
                    <br>
                    <div class="row">
                        <div class="col-sm-{{12 / tab.nbrepannels}}"  ng-repeat="field in tab.inputs"  >
                            <div class="form-group"  >
                                <label    class="control-label"  for="{{field.name}}"  >{{field.label}}
                                    <span style="color:red" ng-hide="!field.required">*</span>
                                </label> 
                                <ng-include src="'tpl/form_input.html'" />
                            </div>
                        </div> 
                    </div>
                </tab>
            </tabset>

            <div class="row"  ng-if="formmodel.tabset.length == 1">
                <div class="col-sm-{{12 / (formmodel.tabset[0].inputs.length == 1 ? 1 : 2)}}"  ng-repeat="field in formmodel.tabset[0].inputs"  >
                    <div class="form-group"  >
                        <label    class="control-label"  for="{{field.name}}"  >{{field.label}}
                            <span style="color:red" ng-hide="!field.required">*</span>
                        </label> 
                        <ng-include src="'tpl/form_input.html'" />
                    </div>
                </div> 
            </div>

        </fieldset>
    </div>
    <div class="modal-footer">
        <button    type="button" class="btn btn-default"  ng-click="closemodal()"  >{{'form.reset'| translate}}</button>
        <button type="submit" class="btn btn-primary"    ng-disabled="form.$invalid || form.$pristine"    >
            <i class="fa fa-save"  ng-show="!errorService.waiting">{{'form.save'| translate}}</i>
            <i class="fa fa-spinner faa-spin animated" ng-show="errorService.waiting"></i>
            <span ng-show="errorService.waiting">Loading...</span>
        </button>
    </div> 
</form>